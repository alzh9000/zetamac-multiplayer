<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Zetamac Multiplayer</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  </head>
  <body class="text-gray-700 h-screen flex flex-col">
    <div class="w-full bg-indigo-300 px-8 py-4 flex shadow-lg">
      <div class="text-left text-xl md:text-2xl font-light flex-grow">Zetamac Multiplayer</div>
      <div class="text-right my-auto" id="online">0</div>
    </div>
    <div class="flex flex-grow">
      <div
        class="w-72 bg-blue-100 p-4 hidden sm:flex flex-col justify-between"
      >
        <div class="text-xl mb-4 text-center">Spectate</div>
        <div class="grid grid-cols-1 gap-4 mb-auto" id="games"></div>
        <div class="button mx-auto px-4 py-2 mb-2 bg-blue-200 rounded-md shadow-sm cursor-pointer hover:bg-blue-300" onclick="enable_speech()" id="enable-speech">
            Enable Speech
        </div>
        <div class="text-center">
          <div id="high-score"></div>
        </div>
      </div>
      <div id="parent" class="flex flex-col w-full">
        <div id="start" class="flex flex-grow">
          <div class="m-auto">
            <input
              id="player"
              type="number"
              class="border-blue-400 mr-4 py-2 px-4 bg-white rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none border-2 focus:border-blue-600"
              placeholder="Your name here"
            />
            <button class="bg-blue-200 px-4 py-2 rounded-lg hover:bg-blue-300 " onclick="startConnection()">
              Start
            </button>
          </div>
        </div>
        <div>
          <div id="game" class="hidden w-full flex flex-grow">
            <div class="flex bg-red-100 text-3xl text-center py-4 mb-4 text-bold place-items-center justify-center">
              <div id="banner">
                Waiting for opponent...
              </div>
              <button id="new-game" class="hidden bg-red-300 px-4 py-2 ml-4 rounded-xl hover:bg-red-400 shadow-md" onclick="startGame()">New Game</button>
            </div>
            <div class="grid grid-cols-2 md:grid-cols-2 gap-8">
              <div id="mine" class="flex mx-auto flex-col w-48">
                <div class="mb-4 flex flex-col text-center text-3xl text-light w-full bg-blue-200 rounded-lg py-2 px-4">
                  <div id="name1" class=""></div>
                  <div id="score1" class="text-7xl font-bold">0</div>
                </div>

                <div class="flex flex-row">
                  <div class="flex flex-grow mr-4 my-auto text-2xl">
                    <div id="question1">? + ?</div>
                    <span class="ml-2">=</span>
                  </div>
                  <input
                    id="text1"
                    readonly
                    class="flex-grow w-16 border-blue-400 py-2 px-4 bg-white rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none border-2 focus:border-blue-600"
                  />
                </div>
              </div>
              <div id="theirs" class="flex mx-auto flex-col w-48">
                <div class="mb-4 flex flex-col text-center text-3xl text-light w-full bg-blue-200 rounded-lg py-2 px-4">
                  <div id="name2" class="">Waiting...</div>
                  <div id="score2" class="text-7xl font-bold">0</div>
                </div>

                <div class="flex flex-row">
                  <div class="flex mr-4 my-auto text-2xl">
                    <div id="question2">? + ?</div>
                    <span class="ml-2">=</span>
                  </div>
                  <input
                          id="text2"
                          readonly
                          class="flex-grow w-16 border-red-400 py-2 px-4 bg-white rounded-lg placeholder-gray-400 text-gray-900 focus:outline-none border-2 focus:border-blue-600"
                  />
                </div>
              </div>
            </div>
            <div class="mt-8 mx-auto w-2/3">
              <canvas id="graph"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="bg-indigo-300 w-full px-4 py-2 text-center grid-cols-3 hidden md:grid">
      <div>
        Created by
        <a href="https://www.linkedin.com/in/sunny-guan/" target="_blank" class="underline text-blue-700">Sunny Guan</a>
      </div>
      <div>
        View project on
        <a href="https://github.com/sunnyguan/zetamac-multiplayer" target="_blank" class="underline text-blue-700">GitHub</a>
      </div>
      <div>
        Play single-player
        <a href="https://arithmetic.zetamac.com/" target="_blank" class="underline text-blue-700">Zetamac</a>
      </div>
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/game.js"></script>
  </body>
</html>
